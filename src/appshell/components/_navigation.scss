//
//   Navigation
// -----------------------------------------------------------------------------

$nav-breakpoint: $breakpoint-medium;

// mobile off-canvas variables
$offcanvas-item-height: rem-calc(42);
$offcanvas-item-padding: rem-calc(8);
$offcanvas-width: rem-calc(220);

// top bar desktop variables
$topbar-height: rem-calc(52);

//
//   Transitions (off-canvas reveal)
// -------------------------------------------------------
#content {
  transition: transform 0.3s;
  z-index: 10;

  &.reveal {
    overflow-x: hidden;
    transform: translate3d(-$offcanvas-width, 0, 0);
  }
}

.nav {

  //
  //   Header (top bar)
  // -------------------------------------------------------
  &__header {
    background-color: $color-bg-shell;
    color: $color-white;

    .container {
      display: flex;
      justify-content: space-between;
    }

    a {
      color: $color-white;
      line-height: $topbar-height;

      &:hover {
        color: #fff;
      }
    }
  }

  // topbar title
  &__title {
    font-size: rem-calc(26);
    font-weight: $font-weight-bold;
    margin-right: 1rem;
  }

  // toggle menu button
  &__toggle {
    background-color: transparent;
    border: 0 none;
    color: $color-white;
    cursor: pointer;
    display: inline-flex;
    font-size: rem-calc(20);
    padding: 0;

    &:focus {
      outline: 0;
    }

    &__text {
      margin-right: 0.5rem;
    }

    &__icon {
      transform: translate3d(0, 2px, 0);
    }

    .iconbar {
      background-color: $color-white;
      border-radius: $radius;
      display: block;
      height: 3px;
      margin-bottom: rem-calc(5);
      transition: transform 0.3s;
      width: rem-calc(26);
    }

    &.close .iconbar:nth-child(1) {
      transform: translateY(8px) rotate(-45deg);
    }

    &.close .iconbar:nth-child(2) {
      transform: scale(0);
    }

    &.close .iconbar:nth-child(3) {
      transform: translateY(-8px) rotate(45deg);
    }

    // hide toggle on desktop
    @media (min-width: $nav-breakpoint) {
      display: none;
    }
  }

  //
  //   Menu (off-canvas on mobile, top bar on desktop)
  // -------------------------------------------------------
  &__menu {
    background-color: $color-bg-nav;
    bottom: $topbar-height;
    color: $color-white;
    font-size: rem-calc(16);
    list-style-type: none;
    // min-height: calc(100vh - $offcanvas-item-height); // sticky footer
    position: absolute;
    right: 0;
    width: $offcanvas-width;
    top: $topbar-height;

    // Links
    a {
      color: $color-white;
      display: block;
      line-height: $offcanvas-item-height;
      padding: 0 $offcanvas-item-padding;

      &:hover {
        color: #fff;
      }
    }

    // top bar menu on desktop
    @media (min-width: $nav-breakpoint) {
      display: flex;
      height: $topbar-height;
      max-height: $topbar-height;
      padding: 0;
      position: static;
      overflow: hidden;
      width: auto;
      z-index: 10;

      a {
        line-height: $topbar-height;
      }
    }
  }
}
